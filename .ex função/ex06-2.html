<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{font-family: Arial, Helvetica, sans-serif; font-size: 16px;}
    </style>
</head>
<body>
    Digite um número inteiro: <input type="number" id="num">
    <button onclick="main()">Enviar</button> <br>
    Resultado: <div id="res" style="display: inline;"></div>
</body>
<script>
    function main(){
        let num = parseInt(document.getElementById('num').value)
        let res = document.getElementById('res')

        if (isNaN(num) || num < 2) {
            res.innerHTML = "Por favor, digite um número inteiro maior ou igual a 2."
            return
        }

        let resultado= perfeito(num)
        let lista = listarPerfeitoAté(num)

        res.innerHTML = `
            <p><strong>${resultado}</strong></p>
            <strong>
                <p>Números perfeitos de 1 até ${num}: 
            </strong> ${lista.join(', ')}.</p>
    
        `
    }

    function perfeito(n){
        let soma = 0
        for(let i = 1; i < n; i++){
            if(n % i === 0)
            soma += i // se for divisivel some
        }
        return soma === n 
            ? `${n} é um número perfeito` 
            : `${n} não é um número perfeito`
    }

    function listarPerfeitoAté(n){
        let perfeitos = []

        for(let i = 1; i <= n; i++){
            if(ehPerfeito(i)) // de 1 ate num ele vai testar se é perfeito e adiciona na lista perfeitos
            perfeitos.push(i)
        }
        return perfeitos
    }

    function ehPerfeito(n){
        let soma = 0
        for(let i = 1; i < n; i++){
            if(n % i === 0)
                soma += i // se for divisivel some
        }
        return soma === n
    }

</script>
</html>